<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
    </head>
    <body>       
        <canvas id="canvas"></canvas>
        <script type="module">
            import {TetrixPiece} from './js/tetrix_model.js';
            import {TetrixBox} from './js/tetrix_drawing.js';

            let images = [];
            for(let i = 0; i < 7; i++) {
                images[i] = new Image();
                images[i].src = `images/${i + 1}.jpg`;
            }
    
            let canvas = document.getElementById('canvas');
            canvas.width = 100;
            canvas.height = 100;
            let tetrixBox = new TetrixBox(images, canvas);
            
            setTimeout(function loop() {
                let piece = TetrixPiece.randomFreezePiece();
                tetrixBox.paint(piece);
                setTimeout(loop, 1000);
            }, 1000);
        </script>        
    </body>
</html>